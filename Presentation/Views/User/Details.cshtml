@model Application.ViewModels.UserViewModel
@using MvcFlashMessages
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Meus Dados";
    var title = "";
    var option = "";
    if (Model.RecieveNotification)
    {
        title = "Desabilitar";
        option = "Habilitado";
    }
    else
    {
        title = "Habilitar";
        option = "Desabilitado";

    }
}



@section FlashMessage{
    <div class="pull-right text-right" id="flash-messages">
        @Html.RenderFlash()@*ONDE APARECE O flashMessage*@
    </div>
}
<div class="profile-content">
    <input type="hidden" value="@Url.Content("~")" id="rootUrl" />
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="portlet">
                <div class="portlet-title tabbable-line">
                    <div class="caption caption-md">
                        <h3>@ViewBag.Title</h3>
                    </div>
                    <ul class="nav nav-tabs">
                        <li class="active">
                            <a href="#tab_1_1" data-toggle="tab" aria-expanded="true"><i class="fa fa-user"></i>&nbsp;Usuário</a>
                        </li>

                        <li class="">
                            <a href="#tab_1_3" data-toggle="tab" aria-expanded="false"><i class="glyphicon glyphicon-lock"></i>&nbsp;Trocar Senha</a>
                        </li>
                        <li class="">
                            <a href="#tab_1_4" data-toggle="tab" aria-expanded="false"><i class="fa fa-newspaper-o"></i>&nbsp;Notificações</a>
                        </li>
                    </ul>
                </div>
                <div class="portlet-body">
                    <div class="tab-content">
                        <!-- PERSONAL INFO TAB -->
                        <div class="tab-pane active" id="tab_1_1">
                            <form role="form" action="#">
                                <div class="form-group">
                                    <label class="control-label">Nome do Usuário</label>
                                    <input type="text" value="@Model.Name" readonly class="form-control bg-white">
                                </div>
                                <div class="form-group">
                                    <label class="control-label">E-mail</label>
                                    <input type="text" value="@Model.Email" readonly class="form-control bg-white">
                                </div>
                                <div class="form-group">
                                    <label class="control-label">CPF</label>
                                    <input type="text" id="cpf" readonly class="form-control bg-white" value="@Model.Cpf">
                                </div>
                                <div class="form-group">
                                    <label class="control-label">Empresa</label>
                                    <input type="text" placeholder="Você não está associado a nenhuma empresa" value="@Model.Company.Alias" readonly class="form-control bg-white">
                                </div>
                                <div class="form-group">
                                    <label class="control-label">Perfil</label>
                                    <input type="text" value="@Model.Profile.Name" readonly class="form-control bg-white">
                                </div>

                            </form>
                        </div>
                        <!-- END PERSONAL INFO TAB -->
                        <!-- CHANGE PASSWORD TAB -->
                        <div class="tab-pane" id="tab_1_3">
                            @Html.Action("ChangePassword", "Manage")

                        </div>
                        <!-- END CHANGE PASSWORD TAB -->
                        <!-- NOTIFICATIONS SETTINGS TAB -->
                        <div class="tab-pane" id="tab_1_4">
                            <table class="table table-striped table-bordered table-advance table-hover">
                                <tbody class="bg-white">
                                    @foreach (var item in Model.UserNotificationList)
                                    {
                                        <tr>
                                            @{ var check = "";
                                                if (item.Active == ((int)Domain.Enum.GenericStatusEnum.Active).ToString())
                                                {
                                                    check = "checked";
                                                }

                                                <td class="col-lg-11 col-md-11 col-sm-11 col-xs-11">
                                                    @*<div class="@(check.Equals("checked") ? new { @class ="success" } : new { @class ="danger" })"></div>*@
                                                    @Html.Label(item.Notification.Name, new { @style = "margin-left:1rem; margin-top:1rem;" })
                                                </td>
                                                <td class="col-lg-1 col-md-1 col-sm-1 col-xs-1">
                                                    <input type="checkbox" value="@item.IdNotification" class="make-switch" @check
                                                           data-on-color="success" data-off-color="danger" data-label-icon="fa fa-fullscreen" data-on-text="<i class='fa fa-check'></i>" data-off-text="<i class='fa fa-times'></i>">
                                                </td>
                                            }
                                        </tr>
                                                }
                                </tbody>
                            </table>
                            <!--end profile-settings-->
                        </div>
                        <!-- END NOTIFICATIONS SETTINGS TAB -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/maskedInput")
@Scripts.Render("~/userJS/js")
@Scripts.Render("~/userDetailsJS/js")
